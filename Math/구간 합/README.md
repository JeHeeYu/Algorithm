# 구간 합 정리 내용

## 구간 합 이란

구간 합이란 <b>합 배열을 이용하여 시간 복잡도를 더 줄이기 위해 사용하는 특수한 목적의 알고리즘</b>을 말한다.
<br>
구간 합 알고리즘을 활용하기 위해 먼저 합 배열을 구해야 한다.
<br>
<br>
예를 들어 배열 A가 있을 때 합 배열 S는 다음과 같이 정의할 수 있다.
```
// 합 배열 S 정의

// A[0]부터 A[i]까지의 합
S[i] = A[0] + A[1] + A[2] + ... + A[i - 1] + A[i]
```

간단하게 말해 합 배열은 <b>기존의 배열을 전처리한 배열</b>이라고 생각할 수 있다.
<br>
<br>
이렇게 합 배열을 미리 구해 놓으면 기존 배열의 일정 범위의 합을 구하는 <b>시간 복잡도가 O(N)에서 O(1)로 감소</b>하게 된다.

<br>

![image](https://user-images.githubusercontent.com/87363461/224527733-31f39ba9-6a84-4cfa-beb1-3de59229a33a.png)

<br>

예를 들어 A[i]부터 A[j] 까지 배열 합을 합 배열 없이 구할 경우 최악의 경우는 i가 0, j가 N인 경우로 시간 복잡도는 O(N)이다.
<br>
이런 경우에서 합 배열을 사용한다면 O(1)의 시간 복잡도로 효율적으로 값을 구할 수 있다.

<br>

## 구간 합 공식

구간 합을 구하기 위해 먼저 합 배열을 구해야 하는데, 합 배열은 간단한 공식으로 만들 수 있다.
```
// 합 배열 S를 만드는 공식

S[i] = S[i - 1] + A[i]
```

이렇게 구현된 합 배열을 이용하여 구간 합 역시 쉽게 구할 수 있다.
<br>
i에서 j까지 구간 합을 구하는 공식은 다음과 같다.

```
// 구간 합을 구하는 공식

S[j] - S[i - 1]
```

## 구간 합 계산
설명을 위해 예를 들어 아래오하 같은 배열이 있다.
<br>
이 배열을 이용해 A[2] ~ A[5]까지 구간 합 배열을 구하는 과정이다.

<br>

![캡처](https://user-images.githubusercontent.com/87363461/224588040-b202f00b-df26-4baa-a984-8f2e1b231502.JPG)

<br>

A[2] ~ A[5]를 보면 합 배열과 구간 합이 연관되어 있는 것을 볼 수 있다.
<br>
<br>
즉, A[0] + ... + A[5]에서 A[0] + A[1]을 빼면 구간 합 A[2] + ... + A[5]가 나오므로, <b>S[5]에서 S[1]을 빼면 구간 합</b>을 쉽게 구할 수 있다.
<br>
이 결과에 따라 합 배열만 미리 구해 두면 구간 합은 한 번의 계산으로 구할 수 있다.

```
// A[2] ~ A[5] 구간 합을 합 배열로 구하는 과정

S[5] = A[0] + A[1] + A[2] + A[3] + A[4] + A[5]
S[1] = A[0] + A[1]
S[5] - S[1] = A[2] + A[3] + A[4] + A[5]
```

### [예제 문제](https://www.acmicpc.net/problem/11659)

### [예제 코드](https://github.com/JeHeeYu/Algorithm/blob/main/Math/%EA%B5%AC%EA%B0%84%20%ED%95%A9/PrefixSum.cpp)
